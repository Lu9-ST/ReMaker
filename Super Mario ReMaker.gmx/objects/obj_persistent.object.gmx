<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-99</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Game start variables.
global.level = 0
global.coins = 0
global.redcoins = 0
global.booblock = 0
global.time = 0
global.water = 0
global.postchange = 0
global.loaded = 0
global.moon = 0
randomize()
ini_open("config.ini")
global.noshadow = ini_read_real("config","noshadow",0)
global.weirdtype = ini_read_real("config","weirdtype",0)
global.groundsprite = ini_read_real("config","noshadow",0)
global.mode = mode_play
global.youvsboo = false
global.costume_index = spr_mario_small_c1
global.costume_jump = snd_jump
global.costume_dead = snd_dead
global.costume_powerup = snd_powerup
global.costume_taunt = snd_appeal
global.costume_shoot = snd_fireball
global.costume_id = 0
keyboard_set_map(ini_read_real("keyconfig","up",vk_up),vk_up)
keyboard_set_map(ini_read_real("keyconfig","down",vk_down),vk_down)
keyboard_set_map(ini_read_real("keyconfig","left",vk_left),vk_left)
keyboard_set_map(ini_read_real("keyconfig","right",vk_right),vk_right)
keyboard_set_map(ini_read_real("keyconfig","jump",vk_shift),vk_shift)
keyboard_set_map(ini_read_real("keyconfig","run",vk_control),vk_control)
window_set_fullscreen(ini_read_real("config","fullscreen",0))
ini_close()
lives = 5
score = 0
show_score = 0
//fade code by Hello
//How the screen is fading
//0: From black, 1: To black
mode = 0

//How much the screen is faded
done = 0

//Screenshot of the game, if it exists 
back = -1

gamepad = 0
global.player = 0
global.powerup = 0
event_user(0)
//Loads the in-game fonts.
global.font = font_add_sprite(spr_font_blue,ord('!'),0,0)
global.font_red = font_add_sprite(spr_font_blue,ord('!'),0,0)

window_set_size(426*2,240*2)
alarm[2]=2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_restart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>window_center()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello
instance_deactivate_all(1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello
//Set mode to fade from black
mode = 0


    //Begin fading from black
    done = 0

    //Activate everything
    instance_activate_all()

    //Resume particles
    part_system_automatic_update(1,1)

//Delete the screenshot
if background_exists(back)
    background_delete(back)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Gamepad Support
if gamepad_is_connected(0)
gamepad = 0
else if gamepad_is_connected(1)
gamepad = 1
else if gamepad_is_connected(2)
gamepad = 2
else if gamepad_is_connected(3)
gamepad = 3
if gamepad_is_connected(gamepad)
{
if gamepad_button_check_pressed(gamepad,gp_face1)
keyboard_key_press(vk_shift)
if gamepad_button_check_pressed(gamepad,gp_face3)
keyboard_key_press(vk_control)
if gamepad_button_check_pressed(gamepad,gp_padu)
keyboard_key_press(vk_up)
if gamepad_button_check_pressed(gamepad,gp_padd)
keyboard_key_press(vk_down)
if gamepad_button_check_pressed(gamepad,gp_padl)
keyboard_key_press(vk_left)
if gamepad_button_check_pressed(gamepad,gp_padr)
keyboard_key_press(vk_right)
if gamepad_button_check_pressed(gamepad,gp_start)
keyboard_key_press(vk_enter)

if gamepad_button_check_released(gamepad,gp_face1)
keyboard_key_release(vk_shift)
if gamepad_button_check_released(gamepad,gp_face3)
keyboard_key_release(vk_control)
if gamepad_button_check_released(gamepad,gp_padu)
keyboard_key_release(vk_up)
if gamepad_button_check_released(gamepad,gp_padd)
keyboard_key_release(vk_down)
if gamepad_button_check_released(gamepad,gp_padl)
keyboard_key_release(vk_left)
if gamepad_button_check_released(gamepad,gp_padr)
keyboard_key_release(vk_right)
if gamepad_button_check_released(gamepad,gp_start)
keyboard_key_release(vk_enter)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello

//If this event was called manually
if mode = 0
{

    //Take a screenshot
    back = background_create_from_surface(application_surface,0,0,view_wview[0],view_hview[0],0,0)

    //Pause particles
    part_system_automatic_update(1,0)

    //Deactivate everything
    instance_deactivate_all(1)

}

//Start fading
done = 0

//To black
mode = 1

//Make sure it stops when its done
alarm[0] = 30
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !directory_exists(working_directory + "/costumes/")
directory_create(working_directory + "/costumes/")
if !directory_exists(working_directory + "/customtheme/")
directory_create(working_directory + "/customtheme/")
if !directory_exists(working_directory + "/costumes/1/")
{
if show_question("The 'costumes' folder is empty. If this is the first time you're running the game, add at least one costume, then run the game again, or you may encounter issues. Continue anyway?") = false
game_end()
}
//Loads the custom.
cst = 0
while file_exists(working_directory + "/costumes/" + string(cst+1) + "/sheet.png")
{
global.costumesprite[cst] = sprite_add(working_directory + "/costumes/" + string(cst+1) + "/sheet.png",16,0,0,16,0)
if file_exists(working_directory + "/costumes/" + string(cst+1) + "/projectile.png")
global.costumeprojectile[cst] = sprite_add(working_directory + "/costumes/" + string(cst+1) + "/projectile.png",4,0,0,0,0)
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/jump.ogg")
global.costumejump[cst] = snd_jump
else
global.costumejump[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/jump.ogg")
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/dead.ogg")
global.costumedead[cst] = snd_dead
else
global.costumedead[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/dead.ogg")
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/flagpole.ogg")
global.costumeflagpole[cst] = snd_flagpole2
else
global.costumeflagpole[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/flagpole.ogg")
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/appeal.ogg")
global.costumeappeal[cst] = snd_appeal
else
global.costumeappeal[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/appeal.ogg")
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/powerup.ogg")
global.costumepowerup[cst] = snd_powerup
else
global.costumepowerup[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/powerup.ogg")
if !file_exists(working_directory + "/costumes/" + string(cst+1) + "/shoot.ogg")
global.costumeshoot[cst] = snd_fireball
else
global.costumeshoot[cst] = audio_create_stream(working_directory + "/costumes/" + string(cst+1) + "/shoot.ogg")
cst+=1
}
global.costume_number = cst
cst = 0
add_custom(0,working_directory + "/customtheme/ground.png",spr_ground,0,0)
add_custom(1,working_directory + "/customtheme/block.png",spr_block,0,0)
add_custom(2,working_directory + "/customtheme/bush.png",spr_bush,0,0)
add_custom(3,working_directory + "/customtheme/tree1.png",spr_tree1,0,32)
add_custom(4,working_directory + "/customtheme/tree2.png",spr_tree2,0,32)
add_custom(5,working_directory + "/customtheme/vpipe_top.png",spr_vpipe_top2,0,0)
add_custom(6,working_directory + "/customtheme/vpipe_middle.png",spr_vpipe_middle2,0,0)
add_custom(7,working_directory + "/customtheme/vpipe_bottom.png",spr_vpipe_bottom2,0,0)
add_custom(8,working_directory + "/customtheme/hpipe_left.png",spr_hpipe_left2,0,0)
add_custom(9,working_directory + "/customtheme/hpipe_middle.png",spr_hpipe_middle2,0,0)
add_custom(10,working_directory + "/customtheme/hpipe_right.png",spr_hpipe_right2,0,0)
add_custom(11,working_directory + "/customtheme/brick.png",spr_brick,0,0)
add_custom(12,working_directory + "/customtheme/shard.png",spr_brick_shard,0,0)
add_custom(14,working_directory + "/customtheme/empty.png",spr_qblock_empty,0,0)
add_custom(15,working_directory + "/customtheme/tree3.png",spr_tree3,0,32)

if file_exists(working_directory + "/customtheme/qblock.png")
global.custom_sprite[13] = sprite_add(working_directory + "/customtheme/qblock.png",4,0,0,0,0)
else
global.custom_sprite[13] = spr_qblock

if file_exists(working_directory + "/customtheme/coin.png")
global.custom_sprite[15] = sprite_add(working_directory + "/customtheme/coin.png",4,0,0,0,0)
else
global.custom_sprite[15] = spr_coin

if file_exists(working_directory + "/customtheme/background.png")
global.custom_background = background_add(working_directory + "/customtheme/background.png",0,0)
else
global.custom_background = bgr_background

if file_exists(working_directory + "/customtheme/music.ogg")
global.custom_music = audio_create_stream(working_directory + "/customtheme/music.ogg")
else
global.custom_music = mus_level_overworld

if file_exists(working_directory + "/customtheme/edit.ogg")
global.custom_edit = audio_create_stream(working_directory + "/customtheme/edit.ogg")
else
global.custom_edit = mus_edit_overworldC0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello

//Fade to black
mode = 1

//Take a screenshot
back = background_create_from_surface(application_surface,0,0,1270,720,0,0)

//Set alarm to execute when the next room starts
alarm[1] = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello
if mode = 1
    event_user(1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello
if done &lt; 1
{

    //Increment fading
    done += 1/30

    //Fade from black
    if mode = 0
        draw_set_alpha(1-done)

    //Fade to black
    else
        draw_set_alpha(done)

    //Draw the fade
    draw_set_color(c_black)
    draw_rectangle(0,0,5000,5000,0)
    draw_set_alpha(1)
    draw_set_color(c_white)

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Code by Hello
if background_exists(back)
{
    draw_enable_alphablend(0)
    draw_background(back,view_xview[0],view_yview[0])
    draw_enable_alphablend(1)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="114">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if window_get_width() = 426
window_set_size(426*2,240*2)
else if window_get_width() = 426*2
window_set_size(426*3,240*3)
else if window_get_width() = 426*3
window_set_size(426,240)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="113">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all()
obj_musicplayer.alarm[1]=1
alarm[3]=10
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
